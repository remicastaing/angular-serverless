<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <h1>Sign up</h1>
      <br>
    </div>
    <div class="col-sm-12">
      <form class="form" [formGroup]="userForm" (submit)="onSubmit(userForm.value)" [ngClass]="{'has-danger':errors.signup}" novalidate>

        <div class="form-group row" [ngClass]="{'has-success': name.valid, 'has-danger': !name.valid && name.touched }">

          <label for="name" class="col-sm-2 col-form-label">Name</label>
          <div class="col-sm-10">
            <input type="text" name="name" id="name" class="form-control" [formControl]="name" />
            <div class="form-control-feedback" *ngIf="name.hasError('required') && name.touched">
              Please enter a name.
            </div>
          </div>
        </div>

        <div class="form-group row" [ngClass]="{'has-success': email.valid, 'has-danger': !email.valid && email.touched }">

          <label for="email" class="col-sm-2 col-form-label">Email</label>
          <div class="col-sm-10">
            <input type="text" name="email" id="email" class="form-control" [formControl]="email" />
            <div class="form-control-feedback" *ngIf="email.hasError('required') && email.touched">
              Please enter an email.
            </div>
            <div class="form-control-feedback" *ngIf="email.hasError('pattern') && !email.hasError('required')  && email.touched">
              Email is invalid.
            </div>
          </div>
        </div>

        <div class="form-group row" [ngClass]="{'has-success': password.valid, 'has-danger': (!password.valid && password.touched) || (userForm.hasError('nomatch') && confirm.touched) }">

          <label for="password" class="col-sm-2 col-form-label">Password</label>
          <div class="col-sm-10">
            <input type="password" name="password" id="password" class="form-control" [formControl]="password" />
            <div class="form-control-feedback" *ngIf="password.hasError('required') && password.touched">
              Please enter a password.
            </div>
            <div class="form-control-feedback" *ngIf="password.hasError('minlength') && password.touched">
              Password should have a least 3 characters.
            </div>
          </div>
        </div>
        <div class="form-group row" [ngClass]="{'has-success': confirm.valid, 'has-danger': (!confirm.valid && confirm.touched) || (userForm.hasError('nomatch') && confirm.touched) }">

          <label for="confirm" class="col-sm-2 col-form-label">Confirm password</label>
          <div class="col-sm-10">
            <input type="password" name="confirm" id="confirm" class="form-control" [formControl]="confirm" />
            <div class="form-control-feedback" *ngIf="confirm.hasError('required') && confirm.touched">
              Please enter a confirm.
            </div>
            <div class="form-control-feedback" *ngIf="confirm.hasError('minlength') && confirm.touched">
              Password should have a least 3 characters.
            </div>
            <div class="form-control-feedback" *ngIf="userForm.hasError('nomatch') && confirm.touched">
              Password should match.
            </div>
          </div>
        </div>

        <div class="form-group has-danger">
          <p id="error-message" class="form-control-feedback">{{ errors.signup }}</p>
        </div>

        <div class="float-sm-right">
          <button class="btn btn-outline-primary" type="submit" [disabled]="!userForm.valid">
            Sign up
          </button>
          <a class="btn btn-default btn-lg btn-login" routerLink="login">
            Login
          </a>
        </div>

      </form>


    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-sm-4 col-md-3">
      <app-oauth-buttons classes="btn-block"></app-oauth-buttons>
    </div>
  </div>
</div>